(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1118:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(141)}])},902:function(e){"use strict";e.exports={serverPort:"3000",youtubeApiKey:"AIzaSyCXmjHxoTyu708zREFt0rCkuJcc6s4mVTQ",mongoURI:"mongodb+srv://insidesteep:3101769steep@cluster0.9kyjzmb.mongodb.net/?retryWrites=true&w=majority",jwtSecretToken:"MysecretTokenForBSmiTube",appUrl:"https://video.bsmi.uz",channelId:"UC-tY8dG0KoYjoOyJHnRe5Jw"}},227:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=function(e,t,n,r){return!1},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1551:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2648).Z,a=n(7273).Z,s=r(n(7294)),o=n(1003),i=n(7795),l=n(4465),c=n(2692),u=n(8245),d=n(9246),f=n(227),p=n(3468);let m=new Set;function v(e,t,n,r){if(o.isLocalURL(t)){if(!r.bypassPrefetchedCheck){let a=void 0!==r.locale?r.locale:"locale"in e?e.locale:void 0,s=t+"%"+n+"%"+a;if(m.has(s))return;m.add(s)}Promise.resolve(e.prefetch(t,n,r)).catch(e=>{})}}function h(e){return"string"==typeof e?e:i.formatUrl(e)}let g=s.default.forwardRef(function(e,t){let n,r;let{href:i,as:m,children:g,prefetch:x,passHref:j,replace:b,shallow:y,scroll:w,locale:N,onClick:k,onMouseEnter:C,onTouchStart:S,legacyBehavior:_=!0!==Boolean(!0)}=e,E=a(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);n=g,_&&("string"==typeof n||"number"==typeof n)&&(n=s.default.createElement("a",null,n));let I=!1!==x,T=s.default.useContext(c.RouterContext),M=s.default.useContext(u.AppRouterContext),O=null!=T?T:M,U=!T,{href:P,as:R}=s.default.useMemo(()=>{if(!T){let e=h(i);return{href:e,as:m?h(m):e}}let[t,n]=o.resolveHref(T,i,!0);return{href:t,as:m?o.resolveHref(T,m):n||t}},[T,i,m]),A=s.default.useRef(P),q=s.default.useRef(R);_&&(r=s.default.Children.only(n));let B=_?r&&"object"==typeof r&&r.ref:t,[D,z,L]=d.useIntersection({rootMargin:"200px"}),H=s.default.useCallback(e=>{(q.current!==R||A.current!==P)&&(L(),q.current=R,A.current=P),D(e),B&&("function"==typeof B?B(e):"object"==typeof B&&(B.current=e))},[R,B,P,L,D]);s.default.useEffect(()=>{O&&z&&I&&v(O,P,R,{locale:N})},[R,P,z,N,I,null==T?void 0:T.locale,O]);let F={ref:H,onClick(e){_||"function"!=typeof k||k(e),_&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),O&&!e.defaultPrevented&&function(e,t,n,r,a,i,l,c,u,d){let{nodeName:f}=e.currentTarget,p="A"===f.toUpperCase();if(p&&(function(e){let{target:t}=e.currentTarget;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!o.isLocalURL(n)))return;e.preventDefault();let m=()=>{"beforePopState"in t?t[a?"replace":"push"](n,r,{shallow:i,locale:c,scroll:l}):t[a?"replace":"push"](r||n,{forceOptimisticNavigation:!d})};u?s.default.startTransition(m):m()}(e,O,P,R,b,y,w,N,U,I)},onMouseEnter(e){_||"function"!=typeof C||C(e),_&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),O&&(I||!U)&&v(O,P,R,{locale:N,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart(e){_||"function"!=typeof S||S(e),_&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),O&&(I||!U)&&v(O,P,R,{locale:N,priority:!0,bypassPrefetchedCheck:!0})}};if(!_||j||"a"===r.type&&!("href"in r.props)){let K=void 0!==N?N:null==T?void 0:T.locale,W=(null==T?void 0:T.isLocaleDomain)&&f.getDomainLocale(R,K,null==T?void 0:T.locales,null==T?void 0:T.domainLocales);F.href=W||p.addBasePath(l.addLocale(R,K,null==T?void 0:T.defaultLocale))}return _?s.default.cloneElement(r,F):s.default.createElement("a",Object.assign({},E,F),n)});t.default=g,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){let{rootRef:t,rootMargin:n,disabled:l}=e,c=l||!s,[u,d]=r.useState(!1),[f,p]=r.useState(null);r.useEffect(()=>{if(s){if(!c&&!u&&f&&f.tagName){let e=function(e,t,n){let{id:r,observer:a,elements:s}=function(e){let t;let n={root:e.root||null,margin:e.rootMargin||""},r=i.find(e=>e.root===n.root&&e.margin===n.margin);if(r&&(t=o.get(r)))return t;let a=new Map,s=new IntersectionObserver(e=>{e.forEach(e=>{let t=a.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)})},e);return t={id:n,observer:s,elements:a},i.push(n),o.set(n,t),t}(n);return s.set(e,t),a.observe(e),function(){if(s.delete(e),a.unobserve(e),0===s.size){a.disconnect(),o.delete(r);let t=i.findIndex(e=>e.root===r.root&&e.margin===r.margin);t>-1&&i.splice(t,1)}}}(f,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:n});return e}}else if(!u){let r=a.requestIdleCallback(()=>d(!0));return()=>a.cancelIdleCallback(r)}},[f,c,n,t,u]);let m=r.useCallback(()=>{d(!1)},[]);return[p,u,m]};var r=n(7294),a=n(4686);let s="function"==typeof IntersectionObserver,o=new Map,i=[];("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},141:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(5893),a=n(1163),s=n.n(a),o=n(9008),i=n.n(o),l=n(4298),c=n.n(l);let u=()=>(0,r.jsx)("footer",{className:"sticky-footer",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row no-gutters",children:(0,r.jsx)("div",{className:"col-lg-12 col-sm-12",children:(0,r.jsxs)("p",{className:"mt-1 mb-0 text-center",children:["\xa9 Copyright 2022"," ",(0,r.jsx)("strong",{className:"text-dark",children:"BSMI Tube"}),". Все права защищены",(0,r.jsx)("br",{})]})})})})});n(1955);var d=n(1664),f=n.n(d),p=n(7294),m=n(902),v=n.n(m);let{appUrl:h,serverPort:g}=v(),x=e=>{let{isAuth:t}=e,[n,s]=(0,p.useState)(""),o=(0,a.useRouter)(),i=e=>{e.preventDefault(),n&&o.push("videos?search=".concat(n)),s("")},l=async e=>{e.preventDefault();try{await fetch("".concat(h,"/api/auth/logout")),o.reload()}catch(t){console.error(t)}};return(0,r.jsxs)("nav",{className:"navbar navbar-expand navbar-light bg-white static-top osahan-nav sticky-top",children:["\xa0\xa0",(0,r.jsx)("button",{className:"btn btn-link btn-sm text-secondary order-1 order-sm-0",id:"sidebarToggle",children:(0,r.jsx)("i",{className:"fas fa-bars"})})," ","\xa0\xa0",(0,r.jsx)("a",{className:"navbar-brand mr-1",href:"index.html",children:(0,r.jsx)("img",{className:"img-fluid",alt:"",src:"img/logo.png"})}),(0,r.jsx)("form",{className:"d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-5 my-2 my-md-0 osahan-navbar-search",children:(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("input",{type:"text",className:"form-control",placeholder:"Поиск...",value:n,onChange:e=>s(e.target.value)}),(0,r.jsx)("div",{className:"input-group-append",children:(0,r.jsx)("button",{className:"btn btn-light",type:"submit",onClick:i,children:(0,r.jsx)("i",{className:"fas fa-search"})})})]})}),(0,r.jsxs)("ul",{className:"navbar-nav ml-auto ml-md-0 osahan-right-navbar",children:[t&&(0,r.jsx)("li",{className:"nav-item mx-1",children:(0,r.jsxs)(f(),{className:"nav-link",href:"/addVideo",children:[(0,r.jsx)("i",{className:"fas fa-plus-circle fa-fw"}),"Загрузить видео"]})}),t&&(0,r.jsxs)("li",{className:"nav-item dropdown no-arrow osahan-right-navbar-user",children:[(0,r.jsxs)("a",{className:"nav-link dropdown-toggle user-dropdown-link",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[(0,r.jsx)("img",{alt:"Avatar",src:"img/user.png"}),"Admin"]}),(0,r.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"userDropdown",children:[(0,r.jsx)("div",{className:"dropdown-divider"}),(0,r.jsxs)("a",{className:"dropdown-item",href:"#",onClick:l,children:[(0,r.jsx)("i",{className:"fas fa-fw fa-sign-out-alt"})," \xa0 Выйти"]})]})]})]})]})},j=e=>{let{isAuth:t}=e,{pathname:n}=(0,a.useRouter)();return console.log("ISAUTH",t),(0,r.jsxs)("ul",{className:"sidebar navbar-nav",children:[(0,r.jsx)("li",{className:"nav-item ".concat("/"==n?"active":""),children:(0,r.jsxs)(f(),{className:"nav-link",href:"/",children:[(0,r.jsx)("i",{className:"fas fa-fw fa-home"}),(0,r.jsx)("span",{children:"Главная"})]})}),(0,r.jsx)("li",{className:"nav-item ".concat(n.includes("/videos")?"active":""),children:(0,r.jsxs)(f(),{className:"nav-link",href:"/videos",children:[(0,r.jsx)("i",{className:"fas fa-fw fa-video"}),(0,r.jsx)("span",{children:"Все видео"})]})}),t&&(0,r.jsx)("li",{className:"nav-item ".concat("/authors"==n?"active":""),children:(0,r.jsxs)(f(),{className:"nav-link",href:"/authors",children:[(0,r.jsx)("i",{className:"fas fa-fw fa-users"}),(0,r.jsx)("span",{children:"Авторы"})]})}),t&&(0,r.jsx)("li",{className:"nav-item ".concat("/addVideo"==n?"active":""),children:(0,r.jsxs)(f(),{className:"nav-link",href:"/addVideo",children:[(0,r.jsx)("i",{className:"fas fa-fw fa-cloud-upload-alt"}),(0,r.jsx)("span",{children:"Добавить видео"})]})})]})},b=e=>{let{children:t,title:n="",isAuth:a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:n})}),(0,r.jsx)(x,{isAuth:a}),(0,r.jsxs)("div",{id:"wrapper",children:[(0,r.jsx)(j,{isAuth:a}),(0,r.jsxs)("div",{id:"content-wrapper",children:[t,(0,r.jsx)(u,{})]})]}),(0,r.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:(0,r.jsx)("i",{className:"fas fa-angle-up"})})]})};var y=n(4865),w=n.n(y);n(7475),n(2252);let{appUrl:N,serverPort:k}=v();function C(e){let{Component:t,pageProps:n,isAuth:a=!1}=e;return(0,r.jsxs)(b,{isAuth:a,children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("meta",{charSet:"utf-8"}),(0,r.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,r.jsx)("meta",{name:"description",content:"Askbootstrap"}),(0,r.jsx)("meta",{name:"author",content:"Askbootstrap"})]}),(0,r.jsx)(c(),{type:"text/javascript",src:"/vendor/jquery/jquery.min.js",strategy:"beforeInteractive"}),(0,r.jsx)(c(),{type:"text/javascript",src:"/vendor/bootstrap/js/bootstrap.bundle.min.js",strategy:"beforeInteractive"}),(0,r.jsx)(c(),{type:"text/javascript",src:"/vendor/jquery-easing/jquery.easing.min.js",strategy:"beforeInteractive"}),(0,r.jsx)(c(),{type:"text/javascript",src:"/vendor/owl-carousel/owl.carousel.js",strategy:"beforeInteractive"}),(0,r.jsx)(c(),{type:"text/javascript",src:"/js/custom.js",strategy:"beforeInteractive"}),(0,r.jsx)(t,{...n,isAuth:a})]})}s().events.on("routeChangeStart",()=>w().start()),s().events.on("routeChangeComplete",()=>w().done()),s().events.on("routeChangeError",()=>w().done());var S=C;C.getInitialProps=async e=>{var t;let{ctx:n}=e,r=null===(t=n.req)||void 0===t?void 0:t.headers.cookie,a=!1;try{let s=await fetch("".concat(N,"/api/auth"),{headers:{cookie:r}}),o=await s.json();console.log(o),o.success&&(a=!0)}catch(i){console.log(i)}return{isAuth:a}}},2252:function(){},7475:function(){},9008:function(e,t,n){e.exports=n(3121)},1664:function(e,t,n){e.exports=n(1551)},1163:function(e,t,n){e.exports=n(880)},4298:function(e,t,n){e.exports=n(3573)},4865:function(e,t,n){var r,a;void 0!==(r="function"==typeof(a=function(){var e,t,n,r={};r.version="0.2.0";var a=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function s(e,t,n){return e<t?t:e>n?n:e}r.configure=function(e){var t,n;for(t in e)void 0!==(n=e[t])&&e.hasOwnProperty(t)&&(a[t]=n);return this},r.status=null,r.set=function(e){var t=r.isStarted();e=s(e,a.minimum,1),r.status=1===e?null:e;var n=r.render(!t),l=n.querySelector(a.barSelector),c=a.speed,u=a.easing;return n.offsetWidth,o(function(t){var s,o;""===a.positionUsing&&(a.positionUsing=r.getPositioningCSS()),i(l,(s=e,(o="translate3d"===a.positionUsing?{transform:"translate3d("+(-1+s)*100+"%,0,0)"}:"translate"===a.positionUsing?{transform:"translate("+(-1+s)*100+"%,0)"}:{"margin-left":(-1+s)*100+"%"}).transition="all "+c+"ms "+u,o)),1===e?(i(n,{transition:"none",opacity:1}),n.offsetWidth,setTimeout(function(){i(n,{transition:"all "+c+"ms linear",opacity:0}),setTimeout(function(){r.remove(),t()},c)},c)):setTimeout(t,c)}),this},r.isStarted=function(){return"number"==typeof r.status},r.start=function(){r.status||r.set(0);var e=function(){setTimeout(function(){r.status&&(r.trickle(),e())},a.trickleSpeed)};return a.trickle&&e(),this},r.done=function(e){return e||r.status?r.inc(.3+.5*Math.random()).set(1):this},r.inc=function(e){var t=r.status;return t?("number"!=typeof e&&(e=(1-t)*s(Math.random()*t,.1,.95)),t=s(t+e,0,.994),r.set(t)):r.start()},r.trickle=function(){return r.inc(Math.random()*a.trickleRate)},e=0,t=0,r.promise=function(n){return n&&"resolved"!==n.state()&&(0===t&&r.start(),e++,t++,n.always(function(){0==--t?(e=0,r.done()):r.set((e-t)/e)})),this},r.render=function(e){if(r.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=a.template;var n,s,o=t.querySelector(a.barSelector),l=e?"-100":(-1+(r.status||0))*100,u=document.querySelector(a.parent);return i(o,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),!a.showSpinner&&(s=t.querySelector(a.spinnerSelector))&&f(s),u!=document.body&&c(u,"nprogress-custom-parent"),u.appendChild(t),t},r.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(a.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&f(e)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective" in e?"translate3d":t+"Transform" in e?"translate":"margin"};var o=(n=[],function(e){n.push(e),1==n.length&&function e(){var t=n.shift();t&&t(e)}()}),i=function(){var e=["Webkit","O","Moz","ms"],t={};function n(n,r,a){var s;r=t[s=(s=r).replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})]||(t[s]=function(t){var n=document.body.style;if(t in n)return t;for(var r,a=e.length,s=t.charAt(0).toUpperCase()+t.slice(1);a--;)if((r=e[a]+s)in n)return r;return t}(s)),n.style[r]=a}return function(e,t){var r,a,s=arguments;if(2==s.length)for(r in t)void 0!==(a=t[r])&&t.hasOwnProperty(r)&&n(e,r,a);else n(e,s[1],s[2])}}();function l(e,t){return("string"==typeof e?e:d(e)).indexOf(" "+t+" ")>=0}function c(e,t){var n=d(e);l(n,t)||(e.className=(n+t).substring(1))}function u(e,t){var n,r=d(e);l(e,t)&&(n=r.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function d(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function f(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return r})?a.call(t,n,t,e):a)&&(e.exports=r)},1955:function(){"use strict";/*! js-cookie v3.0.1 | MIT */ function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}!function t(n,r){function a(t,a,s){if("undefined"!=typeof document){"number"==typeof(s=e({},r,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in s)s[i]&&(o+="; "+i,!0!==s[i]&&(o+="="+s[i].split(";")[0]));return document.cookie=t+"="+n.write(a,t)+o}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],r={},a=0;a<t.length;a++){var s=t[a].split("="),o=s.slice(1).join("=");try{var i=decodeURIComponent(s[0]);if(r[i]=n.read(o,i),e===i)break}catch(l){}}return e?r[e]:r}},remove:function(t,n){a(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(1118),t(880)}),_N_E=e.O()}]);